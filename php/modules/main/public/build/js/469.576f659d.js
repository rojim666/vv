"use strict";(self["webpackChunkzmwk_session_archive"]=self["webpackChunkzmwk_session_archive"]||[]).push([[469],{30469:function(e,t,n){n.r(t),n.d(t,{default:function(){return Pt}});var o=n(56768),a=n(90144),l=n(81387);n(64979);class r extends Error{}function i(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}function s(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return i(t)}catch(n){return atob(t)}}function c(e,t){if("string"!==typeof e)throw new r("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,o=e.split(".")[n];if("string"!==typeof o)throw new r(`Invalid token specified: missing part #${n+1}`);let a;try{a=s(o)}catch(l){throw new r(`Invalid token specified: invalid base64 for part #${n+1} (${l.message})`)}try{return JSON.parse(a)}catch(l){throw new r(`Invalid token specified: invalid json for part #${n+1} (${l.message})`)}}r.prototype.name="InvalidTokenError";n(44114);function u(){}const d=Object.assign,p="undefined"!==typeof window,v=e=>null!==e&&"object"===typeof e,f=e=>void 0!==e&&null!==e,h=e=>"function"===typeof e,m=e=>v(e)&&h(e.then)&&h(e.catch);const b=e=>"number"===typeof e||/^\d+(\.\d+)?$/.test(e),y=()=>!!p&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());function g(e,t){const n=t.split(".");let o=e;return n.forEach((e=>{var t;o=v(o)&&null!=(t=o[e])?t:""})),o}function F(e,t,n){return t.reduce(((t,o)=>(n&&void 0===e[o]||(t[o]=e[o]),t)),{})}var w=n(45130);function x(e){const t=(0,o.nI)();t&&d(t.proxy,e)}function k(){const e=(0,a.Kh)({show:!1}),t=t=>{e.show=t},n=n=>{d(e,n,{transitionAppear:!0}),t(!0)},o=()=>t(!1);return x({open:n,close:o,toggle:t}),{open:n,close:o,state:e,toggle:t}}function E(e){const t=(0,w.Ef)(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}function C(e){if(f(e))return b(e)?`${e}px`:String(e)}function S(e){if(f(e)){if(Array.isArray(e))return{width:C(e[0]),height:C(e[1])};const t=C(e);return{width:t,height:t}}}function O(e){const t={};return void 0!==e&&(t.zIndex=+e),t}const B=/-(\w)/g,z=e=>e.replace(B,((e,t)=>t.toUpperCase())),I=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");const{hasOwnProperty:$}=Object.prototype;function D(e,t,n){const o=t[n];f(o)&&($.call(e,n)&&v(o)?e[n]=A(Object(e[n]),o):e[n]=o)}function A(e,t){return Object.keys(t).forEach((n=>{D(e,t,n)})),e}var R={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const M=(0,a.KR)("zh-CN"),L=(0,a.Kh)({"zh-CN":R}),K={messages(){return L[M.value]},use(e,t){M.value=e,this.add({[e]:t})},add(e={}){A(L,e)}};var P=K;function j(e){const t=z(e)+".";return(e,...n)=>{const o=P.messages(),a=g(o,t+e)||g(o,e);return h(a)?a(...n):a}}function N(e,t){return t?"string"===typeof t?` ${e}--${t}`:Array.isArray(t)?t.reduce(((t,n)=>t+N(e,n)),""):Object.keys(t).reduce(((n,o)=>n+(t[o]?N(e,o):"")),""):""}function G(e){return(t,n)=>(t&&"string"!==typeof t&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${N(t,n)}`)}function T(e){const t=`van-${e}`;return[t,G(t),j(t)]}const V=null,_=[Number,String],Y={type:Boolean,default:!0},H=e=>({type:Number,default:e}),W=e=>({type:String,default:e});let J=0;function X(e){e?(J||document.body.classList.add("van-toast--unclickable"),J++):J&&(J--,J||document.body.classList.remove("van-toast--unclickable"))}function Z(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(z(`-${n}`),e))},e}const[U,q]=T("badge"),Q={dot:Boolean,max:_,tag:W("div"),color:String,offset:Array,content:_,showZero:Y,position:W("top-right")};var ee=(0,o.pM)({name:U,props:Q,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:n,showZero:o}=e;return f(n)&&""!==n&&(o||0!==n&&"0"!==n)},a=()=>{const{dot:o,max:a,content:l}=e;if(!o&&n())return t.content?t.content():f(a)&&b(l)&&+l>+a?`${a}+`:l},l=e=>e.startsWith("-")?e.replace("-",""):`-${e}`,r=(0,o.EW)((()=>{const n={background:e.color};if(e.offset){const[o,a]=e.offset,{position:r}=e,[i,s]=r.split("-");t.default?(n[i]="number"===typeof a?C("top"===i?a:-a):"top"===i?C(a):l(a),n[s]="number"===typeof o?C("left"===s?o:-o):"left"===s?C(o):l(o)):(n.marginTop=C(a),n.marginLeft=C(o))}return n})),i=()=>{if(n()||e.dot)return(0,o.bF)("div",{class:q([e.position,{dot:e.dot,fixed:!!t.default}]),style:r.value},[a()])};return()=>{if(t.default){const{tag:n}=e;return(0,o.bF)(n,{class:q("wrapper")},{default:()=>[t.default(),i()]})}return i()}}});const te=Z(ee);let ne=2e3;const oe=()=>++ne,ae=e=>{ne=e},[le,re]=T("config-provider"),ie=Symbol(le),se={tag:W("div"),theme:W("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:W("local"),iconPrefix:String};function ce(e){return e.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function ue(e){const t={};return Object.keys(e).forEach((n=>{const o=ce(I(n));t[`--van-${o}`]=e[n]})),t}function de(e={},t={}){Object.keys(e).forEach((n=>{e[n]!==t[n]&&document.documentElement.style.setProperty(n,e[n])})),Object.keys(t).forEach((t=>{e[t]||document.documentElement.style.removeProperty(t)}))}(0,o.pM)({name:le,props:se,setup(e,{slots:t}){const n=(0,o.EW)((()=>ue(d({},e.themeVars,"dark"===e.theme?e.themeVarsDark:e.themeVarsLight))));if(p){const t=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},a=(t=e.theme)=>{document.documentElement.classList.remove(`van-theme-${t}`)};(0,o.wB)((()=>e.theme),((e,n)=>{n&&a(n),t()}),{immediate:!0}),(0,o.n)(t),(0,o.Y4)(a),(0,o.xo)(a),(0,o.wB)(n,((t,n)=>{"global"===e.themeVarsScope&&de(t,n)})),(0,o.wB)((()=>e.themeVarsScope),((e,t)=>{"global"===t&&de({},n.value),"global"===e&&de(n.value,{})})),"global"===e.themeVarsScope&&de(n.value,{})}return(0,o.Gt)(ie,e),(0,o.nT)((()=>{void 0!==e.zIndex&&ae(e.zIndex)})),()=>(0,o.bF)(e.tag,{class:re(),style:"local"===e.themeVarsScope?n.value:void 0},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}});const[pe,ve]=T("icon"),fe=e=>null==e?void 0:e.includes("/"),he={dot:Boolean,tag:W("i"),name:String,size:_,badge:_,color:String,badgeProps:Object,classPrefix:String};var me=(0,o.pM)({name:pe,props:he,setup(e,{slots:t}){const n=(0,o.WQ)(ie,null),a=(0,o.EW)((()=>e.classPrefix||(null==n?void 0:n.iconPrefix)||ve()));return()=>{const{tag:n,dot:l,name:r,size:i,badge:s,color:c}=e,u=fe(r);return(0,o.bF)(te,(0,o.v6)({dot:l,tag:n,class:[a.value,u?"":`${a.value}-${r}`],style:{color:c,fontSize:C(i)},content:s},e.badgeProps),{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t),u&&(0,o.bF)("img",{class:ve("image"),src:r},null)]}})}}});const be=Z(me);const ye={show:Boolean,zIndex:_,overlay:Y,duration:_,teleport:[String,Object],lockScroll:Y,lazyRender:Y,beforeClose:Function,overlayStyle:Object,overlayClass:V,transitionAppear:Boolean,closeOnClickOverlay:Y};Object.keys(ye);function ge(e,{args:t=[],done:n,canceled:o,error:a}){if(e){const l=e.apply(null,t);m(l)?l.then((e=>{e?n():o&&o()})).catch(a||u):l?n():o&&o()}else n()}const Fe="van-haptics-feedback",we=(Symbol("van-form"),5);var xe="undefined"!==typeof window;var ke,Ee;function Ce(e){let t;(0,o.sV)((()=>{e(),(0,o.dY)((()=>{t=!0}))})),(0,o.n)((()=>{t&&e()}))}function Se(e,t,n={}){if(!xe)return;const{target:l=window,passive:r=!1,capture:i=!1}=n;let s,c=!1;const u=n=>{if(c)return;const o=(0,a.R1)(n);o&&!s&&(o.addEventListener(e,t,{capture:i,passive:r}),s=!0)},d=n=>{if(c)return;const o=(0,a.R1)(n);o&&s&&(o.removeEventListener(e,t,i),s=!1)};let p;return(0,o.hi)((()=>d(l))),(0,o.Y4)((()=>d(l))),Ce((()=>u(l))),(0,a.i9)(l)&&(p=(0,o.wB)(l,((e,t)=>{d(t),u(e)}))),()=>{null==p||p(),d(l),c=!0}}function Oe(){if(!ke&&(ke=(0,a.KR)(0),Ee=(0,a.KR)(0),xe)){const e=()=>{ke.value=window.innerWidth,Ee.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:ke,height:Ee}}var Be=/scroll|auto|overlay/i,ze=xe?window:void 0;function Ie(e){const t=1;return"HTML"!==e.tagName&&"BODY"!==e.tagName&&e.nodeType===t}function $e(e,t=ze){let n=e;while(n&&n!==t&&Ie(n)){const{overflowY:e}=window.getComputedStyle(n);if(Be.test(e))return n;n=n.parentNode}return t}Symbol("van-field");function De(e,t){return e>t?"horizontal":t>e?"vertical":""}function Ae(){const e=(0,a.KR)(0),t=(0,a.KR)(0),n=(0,a.KR)(0),o=(0,a.KR)(0),l=(0,a.KR)(0),r=(0,a.KR)(0),i=(0,a.KR)(""),s=(0,a.KR)(!0),c=()=>"vertical"===i.value,u=()=>"horizontal"===i.value,d=()=>{n.value=0,o.value=0,l.value=0,r.value=0,i.value="",s.value=!0},p=n=>{d(),e.value=n.touches[0].clientX,t.value=n.touches[0].clientY},v=a=>{const c=a.touches[0];n.value=(c.clientX<0?0:c.clientX)-e.value,o.value=c.clientY-t.value,l.value=Math.abs(n.value),r.value=Math.abs(o.value);const u=10;(!i.value||l.value<u&&r.value<u)&&(i.value=De(l.value,r.value)),s.value&&(l.value>we||r.value>we)&&(s.value=!1)};return{move:v,start:p,reset:d,startX:e,startY:t,deltaX:n,deltaY:o,offsetX:l,offsetY:r,direction:i,isVertical:c,isHorizontal:u,isTap:s}}y();const Re=e=>e.stopPropagation();function Me(e,t){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&Re(e)}const{width:Le,height:Ke}=Oe();let Pe=0;const je="van-overflow-hidden";function Ne(e,t){const n=Ae(),a="01",l="10",r=t=>{n.move(t);const o=n.deltaY.value>0?l:a,r=$e(t.target,e.value),{scrollHeight:i,offsetHeight:s,scrollTop:c}=r;let u="11";0===c?u=s>=i?"00":"01":c+s>=i&&(u="10"),"11"===u||!n.isVertical()||parseInt(u,2)&parseInt(o,2)||Me(t,!0)},i=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",r,{passive:!1}),Pe||document.body.classList.add(je),Pe++},s=()=>{Pe&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",r),Pe--,Pe||document.body.classList.remove(je))},c=()=>t()&&i(),u=()=>t()&&s();Ce(c),(0,o.Y4)(u),(0,o.xo)(u),(0,o.wB)(t,(e=>{e?i():s()}))}function Ge(e){const t=(0,a.KR)(!1);return(0,o.wB)(e,(e=>{e&&(t.value=e)}),{immediate:!0}),e=>()=>t.value?e():null}const Te=Symbol();const Ve=()=>{var e;const{scopeId:t}=(null==(e=(0,o.nI)())?void 0:e.vnode)||{};return t?{[t]:""}:null},[_e,Ye]=T("overlay"),He={show:Boolean,zIndex:_,duration:_,className:V,lockScroll:Y,lazyRender:Y,customStyle:Object,teleport:[String,Object]};var We=(0,o.pM)({name:_e,props:He,setup(e,{slots:t}){const n=(0,a.KR)(),l=Ge((()=>e.show||!e.lazyRender)),r=t=>{e.lockScroll&&Me(t,!0)},i=l((()=>{var a;const l=d(O(e.zIndex),e.customStyle);return f(e.duration)&&(l.animationDuration=`${e.duration}s`),(0,o.bo)((0,o.bF)("div",{ref:n,style:l,class:[Ye(),e.className]},[null==(a=t.default)?void 0:a.call(t)]),[[w.aG,e.show]])}));return Se("touchmove",r,{target:n}),()=>{const t=(0,o.bF)(w.eB,{name:"van-fade",appear:!0},{default:i});return e.teleport?(0,o.bF)(o.Im,{to:e.teleport},{default:()=>[t]}):t}}});const Je=Z(We);const Xe=d({},ye,{round:Boolean,position:W("center"),closeIcon:W("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:W("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Ze,Ue]=T("popup");var qe=(0,o.pM)({name:Ze,inheritAttrs:!1,props:Xe,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:l}){let r,i;const s=(0,a.KR)(),c=(0,a.KR)(),u=Ge((()=>e.show||!e.lazyRender)),d=(0,o.EW)((()=>{const t={zIndex:s.value};if(f(e.duration)){const n="center"===e.position?"animationDuration":"transitionDuration";t[n]=`${e.duration}s`}return t})),p=()=>{r||(r=!0,s.value=void 0!==e.zIndex?+e.zIndex:oe(),t("open"))},v=()=>{r&&ge(e.beforeClose,{done(){r=!1,t("close"),t("update:show",!1)}})},h=n=>{t("clickOverlay",n),e.closeOnClickOverlay&&v()},m=()=>{if(e.overlay)return(0,o.bF)(Je,(0,o.v6)({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},Ve(),{onClick:h}),{default:l["overlay-content"]})},b=e=>{t("clickCloseIcon",e),v()},y=()=>{if(e.closeable)return(0,o.bF)(be,{role:"button",tabindex:0,name:e.closeIcon,class:[Ue("close-icon",e.closeIconPosition),Fe],classPrefix:e.iconPrefix,onClick:b},null)};let g;const F=()=>{g&&clearTimeout(g),g=setTimeout((()=>{t("opened")}))},k=()=>t("closed"),E=e=>t("keydown",e),C=u((()=>{var t;const{round:a,position:r,safeAreaInsetTop:i,safeAreaInsetBottom:s}=e;return(0,o.bo)((0,o.bF)("div",(0,o.v6)({ref:c,style:d.value,role:"dialog",tabindex:0,class:[Ue({round:a,[r]:r}),{"van-safe-area-top":i,"van-safe-area-bottom":s}],onKeydown:E},n,Ve()),[null==(t=l.default)?void 0:t.call(l),y()]),[[w.aG,e.show]])})),S=()=>{const{position:t,transition:n,transitionAppear:a}=e,l="center"===t?"van-fade":`van-popup-slide-${t}`;return(0,o.bF)(w.eB,{name:n||l,appear:a,onAfterEnter:F,onAfterLeave:k},{default:C})};return(0,o.wB)((()=>e.show),(e=>{e&&!r&&(p(),0===n.tabindex&&(0,o.dY)((()=>{var e;null==(e=c.value)||e.focus()}))),!e&&r&&(r=!1,t("close"))})),x({popupRef:c}),Ne(c,(()=>e.show&&e.lockScroll)),Se("popstate",(()=>{e.closeOnPopstate&&(v(),i=!1)})),(0,o.sV)((()=>{e.show&&p()})),(0,o.n)((()=>{i&&(t("update:show",!0),i=!1)})),(0,o.Y4)((()=>{e.show&&e.teleport&&(v(),i=!0)})),(0,o.Gt)(Te,(()=>e.show)),()=>e.teleport?(0,o.bF)(o.Im,{to:e.teleport},{default:()=>[m(),S()]}):(0,o.bF)(o.FK,null,[m(),S()])}});const Qe=Z(qe);const[et,tt]=T("loading"),nt=Array(12).fill(null).map(((e,t)=>(0,o.bF)("i",{class:tt("line",String(t+1))},null))),ot=(0,o.bF)("svg",{class:tt("circular"),viewBox:"25 25 50 50"},[(0,o.bF)("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),at={size:_,type:W("circular"),color:String,vertical:Boolean,textSize:_,textColor:String};var lt=(0,o.pM)({name:et,props:at,setup(e,{slots:t}){const n=(0,o.EW)((()=>d({color:e.color},S(e.size)))),a=()=>{const a="spinner"===e.type?nt:ot;return(0,o.bF)("span",{class:tt("spinner",e.type),style:n.value},[t.icon?t.icon():a])},l=()=>{var n;if(t.default)return(0,o.bF)("span",{class:tt("text"),style:{fontSize:C(e.textSize),color:null!=(n=e.textColor)?n:e.color}},[t.default()])};return()=>{const{type:t,vertical:n}=e;return(0,o.bF)("div",{class:tt([t,{vertical:n}]),"aria-live":"polite","aria-busy":!0},[a(),l()])}}});const rt=Z(lt);const[it,st]=T("toast"),ct=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],ut={icon:String,show:Boolean,type:W("text"),overlay:Boolean,message:_,iconSize:_,duration:H(2e3),position:W("middle"),teleport:[String,Object],wordBreak:String,className:V,iconPrefix:String,transition:W("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:V,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:_};var dt=(0,o.pM)({name:it,props:ut,emits:["update:show"],setup(e,{emit:t,slots:n}){let a,l=!1;const r=()=>{const t=e.show&&e.forbidClick;l!==t&&(l=t,X(l))},i=e=>t("update:show",e),s=()=>{e.closeOnClick&&i(!1)},c=()=>clearTimeout(a),u=()=>{const{icon:t,type:n,iconSize:a,iconPrefix:l,loadingType:r}=e,i=t||"success"===n||"fail"===n;return i?(0,o.bF)(be,{name:t||n,size:a,class:st("icon"),classPrefix:l},null):"loading"===n?(0,o.bF)(rt,{class:st("loading"),size:a,type:r},null):void 0},d=()=>{const{type:t,message:a}=e;return n.message?(0,o.bF)("div",{class:st("text")},[n.message()]):f(a)&&""!==a?"html"===t?(0,o.bF)("div",{key:0,class:st("text"),innerHTML:String(a)},null):(0,o.bF)("div",{class:st("text")},[a]):void 0};return(0,o.wB)((()=>[e.show,e.forbidClick]),r),(0,o.wB)((()=>[e.show,e.type,e.message,e.duration]),(()=>{c(),e.show&&e.duration>0&&(a=setTimeout((()=>{i(!1)}),e.duration))})),(0,o.sV)(r),(0,o.hi)(r),()=>(0,o.bF)(Qe,(0,o.v6)({class:[st([e.position,"normal"===e.wordBreak?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:s,onClosed:c,"onUpdate:show":i},F(e,ct)),{default:()=>[u(),d()]})}});const pt={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let vt=[],ft=!1,ht=d({},pt);const mt=new Map;function bt(e){return v(e)?e:{message:e}}function yt(){const{instance:e,unmount:t}=E({setup(){const n=(0,a.KR)(""),{open:l,state:r,close:i,toggle:s}=k(),c=()=>{ft&&(vt=vt.filter((t=>t!==e)),t())},u=()=>{const e={onClosed:c,"onUpdate:show":s};return(0,o.bF)(dt,(0,o.v6)(r,e),null)};return(0,o.wB)(n,(e=>{r.message=e})),(0,o.nI)().render=u,{open:l,close:i,message:n}}});return e}function gt(){if(!vt.length||ft){const e=yt();vt.push(e)}return vt[vt.length-1]}function Ft(e={}){if(!p)return{};const t=gt(),n=bt(e);return t.open(d({},ht,mt.get(n.type||ht.type),n)),t}const wt=e=>t=>Ft(d({type:e},bt(t))),xt=wt("loading");wt("success"),wt("fail");let kt=0;function Et(){const e=(0,o.nI)(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return`${t}-${++kt}`}const[Ct,St]=T("empty"),Ot={image:W("default"),imageSize:[Number,String,Array],description:String};var Bt=(0,o.pM)({name:Ct,props:Ot,setup(e,{slots:t}){const n=()=>{const n=t.description?t.description():e.description;if(n)return(0,o.bF)("p",{class:St("description")},[n])},a=()=>{if(t.default)return(0,o.bF)("div",{class:St("bottom")},[t.default()])},l=Et(),r=e=>`${l}-${e}`,i=e=>`url(#${r(e)})`,s=(e,t,n)=>(0,o.bF)("stop",{"stop-color":e,offset:`${t}%`,"stop-opacity":n},null),c=(e,t)=>[s(e,0),s(t,100)],u=e=>[(0,o.bF)("defs",null,[(0,o.bF)("radialGradient",{id:r(e),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)","data-allow-mismatch":"attribute"},[s("#EBEDF0",0),s("#F2F3F5",100,.3)])]),(0,o.bF)("ellipse",{fill:i(e),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8","data-allow-mismatch":"attribute"},null)],d=()=>[(0,o.bF)("defs",null,[(0,o.bF)("linearGradient",{id:r("a"),x1:"64%",y1:"100%",x2:"64%","data-allow-mismatch":"attribute"},[s("#FFF",0,.5),s("#F2F3F5",100)])]),(0,o.bF)("g",{opacity:".8","data-allow-mismatch":"children"},[(0,o.bF)("path",{d:"M36 131V53H16v20H2v58h34z",fill:i("a")},null),(0,o.bF)("path",{d:"M123 15h22v14h9v77h-31V15z",fill:i("a")},null)])],p=()=>[(0,o.bF)("defs",null,[(0,o.bF)("linearGradient",{id:r("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%","data-allow-mismatch":"attribute"},[s("#F2F3F5",0,.3),s("#F2F3F5",100)])]),(0,o.bF)("g",{opacity:".8","data-allow-mismatch":"children"},[(0,o.bF)("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:i("b")},null),(0,o.bF)("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:i("b")},null)])],v=()=>(0,o.bF)("svg",{viewBox:"0 0 160 160"},[(0,o.bF)("defs",{"data-allow-mismatch":"children"},[(0,o.bF)("linearGradient",{id:r(1),x1:"64%",y1:"100%",x2:"64%"},[s("#FFF",0,.5),s("#F2F3F5",100)]),(0,o.bF)("linearGradient",{id:r(2),x1:"50%",x2:"50%",y2:"84%"},[s("#EBEDF0",0),s("#DCDEE0",100,0)]),(0,o.bF)("linearGradient",{id:r(3),x1:"100%",x2:"100%",y2:"100%"},[c("#EAEDF0","#DCDEE0")]),(0,o.bF)("radialGradient",{id:r(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[s("#EBEDF0",0),s("#FFF",100,0)])]),(0,o.bF)("g",{fill:"none"},[d(),(0,o.bF)("path",{fill:i(4),d:"M0 139h160v21H0z","data-allow-mismatch":"attribute"},null),(0,o.bF)("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:i(2),"data-allow-mismatch":"attribute"},null),(0,o.bF)("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7","data-allow-mismatch":"children"},[(0,o.bF)("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:i(3)},null),(0,o.bF)("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:i(3)},null),(0,o.bF)("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:i(3)},null),(0,o.bF)("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:i(3)},null)]),(0,o.bF)("g",{transform:"translate(31 105)"},[(0,o.bF)("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),(0,o.bF)("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),(0,o.bF)("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),f=()=>(0,o.bF)("svg",{viewBox:"0 0 160 160"},[(0,o.bF)("defs",{"data-allow-mismatch":"children"},[(0,o.bF)("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:r(5)},[c("#F2F3F5","#DCDEE0")]),(0,o.bF)("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:r(6)},[c("#EAEDF1","#DCDEE0")]),(0,o.bF)("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:r(7)},[c("#EAEDF1","#DCDEE0")])]),d(),p(),(0,o.bF)("g",{transform:"translate(36 50)",fill:"none"},[(0,o.bF)("g",{transform:"translate(8)"},[(0,o.bF)("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),(0,o.bF)("rect",{fill:i(5),width:"64",height:"66",rx:"2","data-allow-mismatch":"attribute"},null),(0,o.bF)("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),(0,o.bF)("g",{transform:"translate(15 17)",fill:i(6),"data-allow-mismatch":"attribute"},[(0,o.bF)("rect",{width:"34",height:"6",rx:"1"},null),(0,o.bF)("path",{d:"M0 14h34v6H0z"},null),(0,o.bF)("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),(0,o.bF)("rect",{fill:i(7),y:"61",width:"88",height:"28",rx:"1","data-allow-mismatch":"attribute"},null),(0,o.bF)("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),h=()=>(0,o.bF)("svg",{viewBox:"0 0 160 160"},[(0,o.bF)("defs",null,[(0,o.bF)("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:r(8),"data-allow-mismatch":"attribute"},[c("#EAEDF1","#DCDEE0")])]),d(),p(),u("c"),(0,o.bF)("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:i(8),"data-allow-mismatch":"attribute"},null)]),m=()=>(0,o.bF)("svg",{viewBox:"0 0 160 160"},[(0,o.bF)("defs",{"data-allow-mismatch":"children"},[(0,o.bF)("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:r(9)},[c("#EEE","#D8D8D8")]),(0,o.bF)("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:r(10)},[c("#F2F3F5","#DCDEE0")]),(0,o.bF)("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:r(11)},[c("#F2F3F5","#DCDEE0")]),(0,o.bF)("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:r(12)},[c("#FFF","#F7F8FA")])]),d(),p(),u("d"),(0,o.bF)("g",{transform:"rotate(-45 113 -4)",fill:"none","data-allow-mismatch":"children"},[(0,o.bF)("rect",{fill:i(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),(0,o.bF)("rect",{fill:i(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),(0,o.bF)("circle",{stroke:i(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),(0,o.bF)("circle",{fill:i(12),cx:"27",cy:"27",r:"16"},null),(0,o.bF)("path",{d:"M37 7c-8 0-15 5-16 12",stroke:i(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),b=()=>{var n;if(t.image)return t.image();const a={error:h,search:m,network:v,default:f};return(null==(n=a[e.image])?void 0:n.call(a))||(0,o.bF)("img",{src:e.image},null)};return()=>(0,o.bF)("div",{class:St()},[(0,o.bF)("div",{class:St("image"),style:S(e.imageSize)},[b()]),n(),a()])}});const zt=Z(Bt);var It=n(65067),$t=n(7277);const Dt=e=>$t.Ay.get("/api/wx/h5/get-agent-config",{params:e,headers:$t.mZ});var At=n(8298);const Rt={class:"open-chat-box"};var Mt={__name:"openChat",setup(e){const t=(0,l.lq)(),n=(0,a.KR)(!0),r=(0,a.KR)(null),i=(0,a.KR)(null),s=(0,a.KR)(!1),u=(0,a.KR)("");async function d(){if(n.value=!0,!t.query.token)return void(u.value="缺少会话信息");r.value=c(t.query.token),(0,It.Hs)(t.query.token);const e=xt({message:"加载中...",duration:0});try{n.value=!0;const{data:t}=await Dt({current_url:window.location.href.split("#")[0]});i.value=t||{},i.value.success=function(){e.message="正在打开会话",s.value=!0,wx.checkJsApi({jsApiList:["openExistedChatWithMsg","openEnterpriseChat"],success:e=>{console.log("res:"+JSON.stringify(e))}});let t={userIds:"",chatId:"",groupName:"",externalUserIds:""};if(r.value?.group_chat_id)t.chatId=r.value.group_chat_id;else{if(!r.value?.external_userid)return void(u.value="缺少会话信息");t.externalUserIds=r.value.external_userid}wx.openEnterpriseChat({...t,success:e=>{console.log(e)},fail:e=>{u.value="无法打开会话！Error:"+JSON.stringify(e)},complete:()=>{e.close()}})},i.value.fail=function(t){e.close(),t.errMsg.indexOf("function not exist")>-1?u.value="微信版本过低请升级":u.value="JsSdk初始化失败！AgentConfig Error:"+JSON.stringify(t)};try{wx.agentConfig(i.value)}catch(o){u.value="JsSdk初始化失败！Error: "+JSON.stringify({error:o}),e.close()}}catch(o){u.value="数据加载失败！Error: "+JSON.stringify({error:o}),n.value=!1,e.close()}}return(0,o.sV)((()=>{(0,At.Gf)()?d():u.value="请在企业微信浏览器或企业微信手机客户端打开！"})),(e,t)=>((0,o.uX)(),(0,o.CE)("div",Rt,[u.value?((0,o.uX)(),(0,o.Wv)((0,a.R1)(zt),{key:0,image:"error",description:u.value},null,8,["description"])):(0,o.Q3)("",!0)]))}},Lt=n(71241);const Kt=(0,Lt.A)(Mt,[["__scopeId","data-v-627a5b0f"]]);var Pt=Kt}}]);