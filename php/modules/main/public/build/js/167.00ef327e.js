"use strict";(self["webpackChunkzmwk_session_archive"]=self["webpackChunkzmwk_session_archive"]||[]).push([[167],{2041:function(e,t,a){a.d(t,{A:function(){return u}});var n=a(56768),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},r=l,s=a(4827);function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){c(e,t,a[t])}))}return e}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i=function(e,t){var a=o({},e,t.attrs);return(0,n.bF)(s.A,o({},a,{icon:r}),null)};i.displayName="SyncOutlined",i.inheritAttrs=!1;var u=i},3136:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var n=a(56768),l=a(24232),r=a(90144),s=a(17767),o=a(17694),c=a(2041),i=a(79907),u=a(17875);a(8298);const d={class:"filter-box"},m={class:"filter-item"},_={class:"mr10"},p={class:"filter-item",style:{"justify-content":"right"}},k={class:"container"},v={class:"left-block"},g={class:"header-box mt12"},y={class:"zm-flex-between"},f={class:"num"},b={key:0,class:"zm-user-info"},h={class:"name"},w={key:1,class:"create_time"};var x={__name:"index",setup(e){const t=(0,r.KR)(null),a=(0,r.Kh)({size:20,page:1,name:"",member_name:"",tagNames:[],remark_yes:-1,sort:1,normal_status:""}),x=(0,r.Kh)({type:0,contain_tag:[],contain_tag_keys:[],contain_tag_map:[],exclude_tag:[],exclude_tag_map:[]}),L=[{title:"群名",dataIndex:"name",scopedSlots:{customRender:"name"},minWidth:"200",ellipsis:!0,sort_key:"name"},{title:"群主",dataIndex:"owner_name",scopedSlots:{customRender:"owner_name_slot"},minWidth:"140",sort_key:"owner_name"},{dataIndex:"total_member",title:"群人数",minWidth:"65",scopedSlots:{customRender:"total_member"},sort_key:"total_member"},{dataIndex:"group_create_time",scopedSlots:{customRender:"group_create_time"},title:"创建时间",minWidth:"120",sort_key:"group_create_time"}],z=(0,r.KR)(""),C=(0,r.KR)(!1),R=(0,r.KR)([]),S=(0,r.Kh)({total:0,current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"]}),K=(0,r.Kh)({keyword:""}),O=(0,r.KR)([]);(0,n.sV)((()=>{X()}));const W=(0,r.KR)(""),A=(0,r.KR)(!1),j=(0,r.Kh)({end_time:void 0,success:!1}),F=()=>{A.value||(A.value=!0,j.success=!0,(0,u.kc)({}).then((e=>{o.Ay.success("更新成功")})).finally((()=>{A.value=!1,j.success=!1})))},I=(0,r.KR)(0),N=()=>{I.value=(new Date).getTime()/1e3,a.page=1,E()},P=()=>{x.type=0,x.contain_tag=[],x.contain_tag_keys=[],x.contain_tag_map=[],x.exclude_tag=[],x.exclude_tag_map=[],O.value=[],z.value="",a.name="",N()},E=()=>{R.value=[],S.total=1,S.current=1,X()},X=()=>{C.value=!0;let e={page:S.current,size:S.pageSize,keyword:a.name};K.keyword=K.keyword.trim(),K.keyword&&(e.keyword=K.keyword),(0,u.HN)(e).then((e=>{R.value=e.data.items||[],W.value=e.data.last_sync_time||"",S.total=Number(e.data.total)})).finally((()=>{C.value=!1}))},D=e=>{S.current=e.current,S.pageSize=e.pageSize,X()};return(e,o)=>{const u=(0,n.g2)("a-input"),x=(0,n.g2)("a-button"),z=(0,n.g2)("a-tooltip"),K=(0,n.g2)("a-table");return(0,n.uX)(),(0,n.Wv)(i.A,{title:"群列表"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",d,[(0,n.Lk)("div",m,[o[1]||(o[1]=(0,n.Lk)("label",null,"群名称：",-1)),(0,n.Lk)("div",_,[(0,n.bF)(u,{ref_key:"inputGroupNameRef",ref:t,style:{width:"100%"},placeholder:"请输入客户群名称搜索",allowClear:"",onPressEnter:N,value:a.name,"onUpdate:value":o[0]||(o[0]=e=>a.name=e)},null,8,["value"])])]),o[4]||(o[4]=(0,n.Lk)("div",{class:"filter-item"},null,-1)),(0,n.Lk)("div",p,[(0,n.bF)(x,{onClick:N,type:"primary"},{default:(0,n.k6)((()=>o[2]||(o[2]=[(0,n.eW)("搜索")]))),_:1}),(0,n.bF)(x,{onClick:P,class:"ml8"},{default:(0,n.k6)((()=>o[3]||(o[3]=[(0,n.eW)("重置")]))),_:1})])]),(0,n.Lk)("div",k,[(0,n.Lk)("div",v,[(0,n.Lk)("div",g,[(0,n.Lk)("div",y,[(0,n.Lk)("div",null,[o[5]||(o[5]=(0,n.eW)("群总数：")),(0,n.Lk)("strong",null,(0,l.v_)(S.total),1)])]),(0,n.bF)(z,{overlayClassName:"user-info-tooltip"},{title:(0,n.k6)((()=>[(0,n.Lk)("span",null,[o[6]||(o[6]=(0,n.eW)(" 上次更新时间：")),(0,n.Lk)("span",f,(0,l.v_)(W.value||"暂无更新时间"),1)])])),default:(0,n.k6)((()=>[(0,n.bF)(x,{type:"primary",style:{"margin-left":"20px"},icon:(0,n.h)((0,r.R1)(c.A)),loading:j.success,onClick:F},{default:(0,n.k6)((()=>o[7]||(o[7]=[(0,n.eW)(" 更新数据 ")]))),_:1},8,["icon","loading"])])),_:1})]),(0,n.bF)(K,{class:"mt16",loading:C.value,"data-source":R.value,columns:L,pagination:S,onChange:D},{bodyCell:(0,n.k6)((({column:e,text:t,record:a})=>["name"===e.dataIndex?((0,n.uX)(),(0,n.CE)("div",b,[o[8]||(o[8]=(0,n.Lk)("img",{class:"avatar",src:s},null,-1)),(0,n.Lk)("span",h,(0,l.v_)(a.name),1)])):(0,n.Q3)("",!0),"group_create_time"===e.dataIndex?((0,n.uX)(),(0,n.CE)("div",w,(0,l.v_)(a.group_create_time),1)):(0,n.Q3)("",!0)])),_:1},8,["loading","data-source","pagination"])])])])),_:1})}}},L=a(71241);const z=(0,L.A)(x,[["__scopeId","data-v-68fc5312"]]);var C=z}}]);